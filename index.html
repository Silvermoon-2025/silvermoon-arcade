<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é“¶æœˆçš„æ¸¸æˆå’–å…</title>
    <link rel="icon" href="å†å²çˆ±å¥½è€…çˆ±å¥½è€…æœåŠ¡ä¸“è®¾ç½‘ç«™ï¼ˆç½‘é¡µå›¾æ ‡ï¼‰.ico" type="image/x-icon">
    <link rel="shortcut icon" href="å†å²çˆ±å¥½è€…æœåŠ¡ä¸“è®¾ç½‘ç«™ï¼ˆç½‘é¡µå›¾æ ‡ï¼‰.ico" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
extend: {
    colors: {
        primary: '#165DFF',
        secondary: '#FFD166',
        neutral: '#F5F7FA',
        board: '#E6C388',
        black: '#000001',
        white: '#FFFFFF',
        nightBackground: '#121212',
        nightBoard: '#332a1b',
        nightText: '#e0e0e0',
        nightBlock: '#364969'
    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
/* ä¼˜åŒ–å¤œé—´æ¨¡å¼ä¸‹çš„æ¸¸æˆçŠ¶æ€åŒºåŸŸ */
body.dark-mode .flex.justify-between.items-center.mb-4.px-4.py-3.bg-white.rounded-lg.shadow-sm {
    background-color: theme('colors.nightBlock');
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ä¼˜åŒ–å¤œé—´æ¨¡å¼ä¸‹çš„æ¸¸æˆä¿¡æ¯å¡ç‰‡ - æ­£ç¡®çš„é€‰æ‹©å™¨ */
body.dark-mode .flex.flex-col.md\:flex-row.justify-center.items-center.space-y-6.md\:space-y-0.md\:space-x-6 > div:last-child.w-full.md\:w-64.bg-white.rounded-lg.shadow-lg.p-4 {
    background-color: theme('colors.nightBlock') !important;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* è°ƒæ•´æ¸¸æˆä¿¡æ¯å¡ç‰‡å†…çš„æ–‡æœ¬å’Œè¾¹æ¡†é¢œè‰² */
body.dark-mode .border-b.border-gray-200 {
    border-color: rgba(255, 255, 255, 0.1);
}

body.dark-mode .text-gray-600 {
    color: rgba(255, 255, 255, 0.7);
}

/* è°ƒæ•´æ¸¸æˆè§„åˆ™åˆ—è¡¨é¡¹é¢œè‰² */
body.dark-mode .text-sm.text-gray-600.space-y-1 li {
    color: rgba(255, 255, 255, 0.8);
}

@layer utilities {
    .content-auto {
        content-visibility: auto;
    }
    
    .board-grid {
        background-image: linear-gradient(to right, theme('colors.black') 1px, transparent 1px),
                          linear-gradient(to bottom, theme('colors.black') 1px, transparent 1px);
    }
}

body.dark-mode {
    background-color: theme('colors.nightBackground');
    color: theme('colors.nightText');
}

body.dark-mode .text-gray-600,
body.dark-mode .text-gray-700,
body.dark-mode .text-gray-800 {
    color: theme('colors.nightText');
}

body.dark-mode .game-status-container,
body.dark-mode .game-info-card {
    background-color: theme('colors.nightBlock');
    color: theme('colors.nightText');
}

body.dark-mode .btn-primary {
    background-color: theme('colors.primary');
    color: white;
}

body.dark-mode .btn-secondary {
    background-color: theme('colors.secondary');
    color: theme('colors.primary');
}

body.dark-mode header {
    background-color: #165DFF;
}

body.dark-mode .text-black {
    color: theme('colors.nightText');
}

.control-button {
    background-color: #FFD166;
    color: #165DFF;
    border: none;
    border-radius: 8px;
    padding: 15px 30px;
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}

.control-button:hover {
    transform: scale(1.05);
    background-color: #ffc433;
}

.life-icon {
    color: #ff3e3e;
    font-size: 1.5rem;
    margin: 0 5px;
}

/* æ¸¸æˆç»“æŸé®ç½©æ ·å¼ */
.game-over-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 100;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.game-over-overlay.active {
    opacity: 1;
    visibility: visible;
}

.game-over-content {
    background-color: white;
    padding: 30px;
    border-radius: 15px;
    text-align: center;
    max-width: 400px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

body.dark-mode .game-over-content {
    background-color: theme('colors.nightBlock');
    color: theme('colors.nightText');
}

.game-over-score {
    font-size: 2rem;
    font-weight: bold;
    color: #165DFF;
    margin: 15px 0;
}

body.dark-mode .game-over-score {
    color: #FFD166;
}

.restart-button {
    background-color: #165DFF;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 24px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
    margin-top: 20px;
}

.restart-button:hover {
    background-color: #0047CC;
    transform: scale(1.05);
}

/* å¤œé—´æ¨¡å¼ä¸‹çš„æ§åˆ¶æŒ‰é’®æ ·å¼ */
body.dark-mode .control-button {
    background-color: theme('colors.secondary');
    color: theme('colors.primary');
}

body.dark-mode .control-button:hover {
    background-color: #ffc433;
}



/* æŠ¢çº¢åŒ…æ¸¸æˆæ ·å¼ */
.game-container {
    position: relative;
    width: 100%;
    max-width: 500px;
    text-align: center;
    min-height: 500px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

/* å¤œé—´æ¨¡å¼ä¸‹æ¸¸æˆåŒºåŸŸèƒŒæ™¯æ ·å¼ */
body.dark-mode .game-container {
    background-color: theme('colors.nightBlock');
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.red-packet {
    width: 220px;
    height: 260px;
    background: linear-gradient(135deg, #e74c3c, #c0392b, #e67e22);
    border-radius: 15px;
    margin: 0 auto 30px;
    position: relative;
    box-shadow: 0 15px 30px rgba(0,0,0,0.4), inset 0 -5px 15px rgba(0,0,0,0.2);
    cursor: pointer;
    transition: transform 0.1s;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0px); }
}

.red-packet:active {
    transform: scale(0.95);
}

.packet-top {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    width: 130px;
    height: 65px;
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    border-radius: 50% 50% 0 0;
    box-shadow: 0 5px 10px rgba(0,0,0,0.3);
}

.packet-text {
    color: gold;
    font-size: 48px;
    font-weight: bold;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-shadow: 
        0 0 10px rgba(255,215,0,0.8),
        0 0 20px rgba(255,215,0,0.6),
        0 0 30px rgba(255,215,0,0.4);
    letter-spacing: 2px;
}

.grab-btn {
    width: 180px;
    height: 60px;
    background: linear-gradient(135deg, #f39c12, #e74c3c, #c0392b);
    border: none;
    border-radius: 30px;
    color: white;
    font-size: 22px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    transition: all 0.1s;
    position: relative;
    overflow: hidden;
    letter-spacing: 1px;
}

.grab-btn::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent, transparent, 
        rgba(255,255,255,0.3), 
        transparent, transparent
    );
    transform: rotate(45deg);
    transition: all 0.5s;
}

.grab-btn:hover::before {
    animation: shine 1s;
}

@keyframes shine {
    0% { transform: translateX(-100%) translateY(-100%); }
    100% { transform: translateX(100%) translateY(100%); }
}

.grab-btn:active {
    transform: scale(0.95);
    background: linear-gradient(135deg, #e67e22, #d35400, #a52a2a);
}

.grab-btn:disabled {
    background: #bdc3c7;
    cursor: not-allowed;
    transform: none;
}

.timer {
    font-size: 28px;
    font-weight: bold;
    color: #fff;
    margin-bottom: 20px;
    text-shadow: 
        2px 2px 4px rgba(0,0,0,0.5),
        0 0 10px rgba(255,215,0,0.5);
    animation: pulse 1s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.result-modal {
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    border-radius: 20px;
    padding: 40px;
    text-align: center;
    max-width: 350px;
    box-shadow: 
        0 0 30px rgba(231, 76, 60, 0.7),
        0 0 60px rgba(231, 76, 60, 0.5),
        inset 0 0 20px rgba(0,0,0,0.3);
    border: 3px solid gold;
    position: relative;
    overflow: hidden;
    animation: modalAppear 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes modalAppear {
    0% { transform: scale(0.5); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

.result-modal::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,215,0,0.3) 0%, transparent 70%);
    animation: rotate 8s linear infinite;
    pointer-events: none;
}

@keyframes rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.firecracker {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 24px;
    animation: bounce 0.5s infinite alternate;
}

.firecracker-right {
    top: 10px;
    right: 10px;
    left: auto;
    animation-delay: 0.2s;
}

@keyframes bounce {
    0% { transform: translateY(0px) rotate(-10deg); }
    100% { transform: translateY(-10px) rotate(10deg); }
}

.result-title {
    font-size: 32px;
    color: gold;
    margin-bottom: 25px;
    font-weight: bold;
    text-shadow: 
        0 0 10px rgba(255,215,0,0.8),
        0 0 20px rgba(255,215,0,0.6);
    letter-spacing: 2px;
}

.result-amount {
    font-size: 48px;
    color: gold;
    font-weight: bold;
    margin: 20px 0;
    text-shadow: 
        0 0 15px rgba(255,215,0,0.8),
        0 0 30px rgba(255,215,0,0.6);
    animation: glow 1.5s infinite alternate;
}

@keyframes glow {
    0% { text-shadow: 0 0 10px rgba(255,215,0,0.8); }
    100% { text-shadow: 0 0 20px rgba(255,215,0,1), 0 0 30px rgba(255,215,0,0.8); }
}

.result-message {
    font-size: 18px;
    color: #fff;
    margin: 15px 0;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

.result-message-low {
    font-size: 18px;
    color: #fff;
    margin: 15px 0;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    color: #f1c40f;
    font-weight: bold;
    animation: blink 1s infinite;
}

@keyframes blink {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
}

.result-clicks {
    font-size: 20px;
    color: #fff;
    margin: 20px 0;
    font-weight: bold;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}

.retry-btn {
    width: 150px;
    height: 50px;
    background: linear-gradient(135deg, #2ecc71, #27ae60);
    border: none;
    border-radius: 25px;
    color: white;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 25px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    transition: all 0.3s;
}

.retry-btn:hover {
    background: linear-gradient(135deg, #27ae60, #219653);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.4);
}

.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background-color: #f39c12;
    border-radius: 50%;
    animation: fall linear forwards;
}

@keyframes fall {
    to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
    }
}

/* è„‰å†²çº¢åŠ¨ç”» */
@keyframes pulseRed {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}
</style>
</head>
<body class="bg-neutral min-h-screen font-sans text-black">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <header class="bg-primary text-white shadow-lg">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center mb-4 md:mb-0">
                <a href="https://silvermoon-2025.github.io/historyloverweb/" class="flex items-center hover:opacity-90 transition-opacity">
                    <i class="fa fa-book text-2xl mr-2"></i>
                    <span class="text-xl font-bold">å†å²çˆ±å¥½è€…æœåŠ¡ä¸“è®¾ç½‘ç«™</span>
                </a>
            </div>
            <div class="flex items-center space-x-2">
                <i class="fa fa-gamepad text-secondary text-2xl"></i>
                <h1 class="text-xl md:text-2xl font-bold tracking-tight">é“¶æœˆçš„æ¸¸æˆå’–å…</h1>
            </div>
            <button onclick="toggleMusic()" style="position:fixed; bottom:6rem; right:1.5rem; width:3rem; height:3rem; border-radius:50%; background:white; border:2px solid #3b82f6; cursor:pointer; z-index:999;">
              <i id="musicIcon" class="fa fa-music" style="color:#3b82f6; font-size:1.2rem;"></i>
            </button>
            <button id="theme-toggle" class="fixed bottom-6 right-6 w-32 h-14 rounded-full border-2 border-yellow-400 shadow-lg overflow-hidden transition-all duration-300 ease-in-out z-50 cursor-pointer hover:scale-105 active:scale-95">
                <div class="relative w-full h-full overflow-hidden">
                    <div id="day-bg" class="absolute inset-0 bg-blue-100 transition-opacity duration-500 ease-in-out">
                        <div class="absolute top-3 left-2 w-12 h-4 bg-white rounded-full"></div>
                        <div class="absolute top-5 left-7 w-10 h-4 bg-white rounded-full"></div>
                        <div class="absolute top-3 right-2 w-12 h-4 bg-white rounded-full"></div>
                        <div class="absolute top-5 right-7 w-10 h-4 bg-white rounded-full"></div>
                    </div>
                    <div id="night-bg" class="absolute inset-0 bg-black opacity-0 transition-opacity duration-500 ease-in-out">
                        <div class="absolute top-3 left-3 w-1 h-1 bg-yellow-300 rounded-full animate-pulse"></div>
                        <div class="absolute top-6 left-8 w-1.5 h-1.5 bg-yellow-300 rounded-full animate-pulse" style="animation-delay: 0.5s"></div>
                        <div class="absolute top-4 left-12 w-1 h-1 bg-yellow-300 rounded-full animate-pulse" style="animation-delay: 1s"></div>
                        <div class="absolute bottom-3 left-5 w-1.5 h-1.5 bg-yellow-300 rounded-full animate-pulse" style="animation-delay: 1.5s"></div>
                        <div class="absolute bottom-5 left-10 w-1 h-1 bg-yellow-300 rounded-full animate-pulse" style="animation-delay: 2s"></div>
                    </div>
                    <div id="toggle-icon" class="absolute top-1 w-12 h-12 rounded-full transition-transform duration-700 ease-in-out transform">
                        <div id="sun" class="absolute inset-0 w-full h-full bg-yellow-400 rounded-full shadow-lg shadow-yellow-400/50 transition-opacity duration-300 ease-in-out">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="absolute w-14 h-1.5 bg-yellow-400 rounded-full"></div>
                                <div class="absolute w-1.5 h-14 bg-yellow-400 rounded-full"></div>
                                <div class="absolute w-10 h-1.5 bg-yellow-400 rounded-full transform rotate-45"></div>
                                <div class="absolute w-1.5 h-10 bg-yellow-400 rounded-full transform rotate-45"></div>
                            </div>
                        </div>
                        <div id="moon" class="absolute inset-0 w-full h-full bg-gray-200 rounded-full shadow-lg opacity-0 transition-opacity duration-300 ease-in-out">
                            <div class="absolute top-2 left-2 w-2 h-2 bg-gray-300 rounded-full"></div>
                            <div class="absolute top-4 right-3 w-1.5 h-1.5 bg-gray-300 rounded-full"></div>
                            <div class="absolute bottom-3 left-3 w-2.5 h-2.5 bg-gray-300 rounded-full"></div>
                        </div>
                    </div>
                </div>
            </button>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="container mx-auto px-4 py-8 max-w-5xl">
        <div class="text-center mb-8">
            <p class="text-lg font-medium">å¼€æ”¾æ—¶é—´</p>
            <p class="text-xs text-gray-600">Open Time</p>
            <p class="text-sm">2026å¹´2æœˆ15æ—¥ - 2026å¹´2æœˆ23æ—¥</p>
        </div>

        <div class="max-w-md mx-auto mb-8 relative">
          <div class="bg-white dark:bg-blue-700 rounded-xl p-5 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 dark:border-gray-700">
            <div class="flex items-center justify-between mb-4 pb-3 border-b border-gray-100 dark:border-gray-700">
              <h3 class="text-lg font-bold text-gray-800 dark:text-white flex items-center">
                <span class="w-6 h-6 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center mr-2">
                  <i class="fa fa-music text-blue-600 dark:text-blue-400 text-sm"></i>
                </span>
                ã€ç«™åµŒéŸ³ä¹ã€‘
              </h3>
              <span class="text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300">
                éŸ³ä¹ä¿¡æ¯
              </span>
            </div>
            <div class="grid grid-cols-1 gap-3 text-sm">
              <div class="flex items-center">
                <span class="w-28 text-gray-500 dark:text-gray-400">ç»‘å®šæ—¶é—´ï¼š</span>
                <span class="text-gray-800 dark:text-gray-200 font-medium">2026å¹´2æœˆ15æ—¥</span>
              </div>
              <div class="flex items-center">
                <span class="w-28 text-gray-500 dark:text-gray-400">ç»‘å®šéŸ³ä¹ï¼š</span>
                <span class="text-gray-800 dark:text-gray-200 font-medium">æ­å–œå‘è´¢ - åˆ˜å¾·å</span>
              </div>
              <div class="flex items-center">
                <span class="w-28 text-gray-500 dark:text-gray-400">ç»­æ’­æ—¶é—´ï¼š</span>
                <span class="text-gray-800 dark:text-gray-200 font-medium">2026å¹´2æœˆ15æ—¥~2026å¹´2æœˆ23æ—¥</span>
              </div>
            </div>
          </div>
          <div class="absolute -bottom-2 -right-2 w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg opacity-20 dark:opacity-30"></div>
        </div>

        <div class="text-center mb-8">
            <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-primary mb-2">æ˜¥èŠ‚å°æ¸¸æˆÂ·è‡³é‡‘è±ªå¤º</h2>
            <p class="text-gray-600 max-w-2xl mx-auto">æ‹¼æ‰‹é€ŸæŠ¢çº¢åŒ…ï¼Œåœ¨æ­¤æ£€éªŒä½ çš„æ‰‹é€Ÿåˆ°åº•æœ‰å¤šå¿«å§ï¼</p>
        </div>

        <div class="flex justify-between items-center mb-4 px-4 py-3 bg-white rounded-lg shadow-sm">
            <div class="flex items-center">
                <span id="game-status" class="font-medium">ç‚¹å‡»[å¼€å§‹æ¸¸æˆ]ï¼Œå³å¯è¿›å…¥æŠ¢çº¢åŒ…ç¯èŠ‚</span>
            </div>

            <div class="flex space-x-2">
                <button id="start-btn" class="bg-primary hover:bg-opacity-90 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 flex items-center">
                    <i class="fa fa-play mr-2"></i> å¼€å§‹æ¸¸æˆ
                </button>
                <button id="restart-btn" class="bg-secondary hover:bg-opacity-90 text-primary px-4 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 flex items-center">
                    <i class="fa fa-refresh mr-2"></i> é‡æ–°å¼€å§‹
                </button>
            </div>
        </div>

        <div class="flex flex-col md:flex-row justify-center items-center space-y-6 md:space-y-0 md:space-x-6">
            <div class="game-container bg-white shadow-xl rounded-lg p-6">
                <div class="timer">â±ï¸ <span id="time-left">15</span>s</div>
                
                <div class="red-packet" id="red-packet">
                    <div class="packet-top"></div>
                    <div class="packet-text">ç¦</div>
                </div>
                
                <button class="grab-btn" id="grab-btn">æŠ¢çº¢åŒ…</button>
            </div>

            <div class="w-full md:w-64 bg-white rounded-lg shadow-lg p-4">
                <h3 class="text-lg font-semibold mb-3 pb-2 border-b border-gray-200">æ¸¸æˆä¿¡æ¯</h3>
                
                <div class="mb-4">
                    <h4 class="font-medium mb-2">æ¸¸æˆè§„åˆ™</h4>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>â€¢ ç‚¹å‡»å¼€å§‹æŒ‰é’®åï¼Œåœ¨15ç§’å†…å°½å¯èƒ½å¤šåœ°ç‚¹å‡»çº¢åŒ…</li>
                        <li>â€¢ æ—¶é—´ç»“æŸåä¼šæ˜¾ç¤ºæ‚¨æŠ¢åˆ°çš„é‡‘é¢</li>
                        <li>â€¢ å¯ä»¥é€šè¿‡ç‚¹å‡»çº¢åŒ…æˆ–æŒ‰é’®æ¥å¢åŠ ç‚¹å‡»æ¬¡æ•°</li>
                        <li>â€¢ æ¸¸æˆç»“æŸåå¯ä»¥é€‰æ‹©å†æŠ¢ä¸€æ¬¡</li>
                    </ul>
                </div>
                
                <div class="mb-4">
                    <h4 class="font-medium mb-2">æ¦‚ç‡è¯´æ˜</h4>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>â€¢ é‡‘é¢ä¸Šé™ä¸º1000å…ƒ</li>
                        <li>â€¢ æœ‰20%å¯èƒ½æŠ¢åˆ°500å…ƒä»¥ä¸Šé‡‘é¢</li>
                        <li>â€¢ æœ‰5%çš„å¯èƒ½æŠ¢åˆ°900å…ƒä»¥ä¸Šé‡‘é¢</li>
                        <li>â€¢ å‰©ä¸‹çš„35%å°±æ˜¯æŠ¢åˆ°100ä»¥ä¸Š500ä»¥ä¸‹ä¹‹é—´é‡‘é¢çš„å¯èƒ½</li>
                    </ul>
                </div>
                
                <div class="mt-6">
                    <div class="text-center text-sm text-gray-500">
                        <p>ç¥æ‚¨å¥½è¿ï¼</p>
                        <p class="mt-2">ğŸŠ æ­å–œå‘è´¢ ğŸŠ</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="overlay" id="overlay">
            <div class="result-modal">
                <div class="firecracker">ğŸ§¨</div>
                <div class="firecracker firecracker-right">ğŸ§¨</div>
                <div class="result-title">ğŸ‰ æ­å–œå‘è´¢ ğŸ‰</div>
                <div class="result-message">æ‚¨æŠ¢åˆ°äº†</div>
                <div class="result-amount" id="result-amount">ï¿¥0.00</div>
                <div class="result-message" id="result-message">çœŸæ˜¯æ‰‹æ°”ä¸é”™å‘¢ï¼</div>
                <div class="result-clicks" id="result-clicks">ç‚¹å‡»æ¬¡æ•°: 0æ¬¡</div>
                <button class="retry-btn" id="retry-btn">å†æŠ¢ä¸€æ¬¡</button>
            </div>
        </div>
    </main>

    <footer class="bg-primary text-white mt-12 py-6">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-lg font-semibold">é“¶æœˆçš„æ¸¸æˆå’–å…</p>
                    <p class="text-sm text-white/80 mt-1">æœ¬ç½‘ç«™ä»…ä¾›å¨±ä¹æ¶ˆé£è€Œç”¨</p>
                </div>
                <div class="text-right">
                    <p class="text-sm">
                        [å‘å¸ƒåœ°] ä¸­å›½-åŒ—äº¬<br>
                        [ç½‘ç«™åˆ›å»ºæ—¶é—´] 2025å¹´7æœˆ5æ—¥<br>
                        [ç½‘é¡µåç§°] é“¶æœˆçš„æ¸¸æˆå’–å…<br>
                        [ç‰¹åˆ«é¸£è°¢] æˆ‘ä¸æ˜¯å¾æŸäººï¼ˆQQï¼‰
                    </p>
                </div>
            </div>
            <div class="mt-6 pt-4 border-t border-white/20 text-center text-sm text-white/70">
                <p>Â© 2025-2026 é“¶æœˆçš„æ¸¸æˆå’–å…</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const grabBtn = document.getElementById('grab-btn');
            const redPacket = document.getElementById('red-packet');
            const timeLeftSpan = document.getElementById('time-left');
            const overlay = document.getElementById('overlay');
            const resultAmount = document.getElementById('result-amount');
            const resultMessage = document.getElementById('result-message');
            const resultClicks = document.getElementById('result-clicks');
            const retryBtn = document.getElementById('retry-btn');
            const startBtn = document.getElementById('start-btn');
            const gameStatus = document.getElementById('game-status');
            
            let clickCount = 0;
            let timeLeft = 15;
            let gameActive = false;
            let timer;
            
            // åˆ›å»ºå½©å¸¦æ•ˆæœ
            function createConfetti() {
                const colors = ['#e74c3c', '#f39c12', '#e67e22', '#2ecc71', '#3498db', '#9b59b6'];
                for (let i = 0; i < 50; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = Math.random() * 10 + 5 + 'px';
                    confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
                    confetti.style.opacity = Math.random() * 0.5 + 0.5;
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }
            }
            
            // æ ¹æ®æ¦‚ç‡è®¡ç®—é‡‘é¢
            function calculateAmountWithProbability(clicks) {
                const probability = Math.random(); // 0-1ä¹‹é—´çš„éšæœºæ•°
                
                if (probability < 0.4) { // 40% æ¦‚ç‡è·å¾—100ä»¥ä¸‹é‡‘é¢
                    // 10-99ä¹‹é—´çš„é‡‘é¢
                    return (Math.random() * 89 + 10).toFixed(2);
                } else if (probability < 0.6) { // 20% æ¦‚ç‡è·å¾—500ä»¥ä¸Šé‡‘é¢ (0.4+0.2)
                    // 500-999ä¹‹é—´çš„é‡‘é¢
                    return (Math.random() * 499 + 500).toFixed(2);
                } else if (probability < 0.65) { // 5% æ¦‚ç‡è·å¾—900ä»¥ä¸Šé‡‘é¢ (0.6+0.05)
                    // 900-1000ä¹‹é—´çš„é‡‘é¢
                    return (Math.random() * 100 + 900).toFixed(2);
                } else { // 35% æ¦‚ç‡è·å¾—100-500ä¹‹é—´çš„é‡‘é¢ (0.65+0.35)
                    // 100-499ä¹‹é—´çš„é‡‘é¢
                    return (Math.random() * 399 + 100).toFixed(2);
                }
            }
            
            // å¼€å§‹æ¸¸æˆ
            function startGame() {
                clickCount = 0;
                timeLeft = 15;
                gameActive = true;
                
                timeLeftSpan.textContent = timeLeft;
                gameStatus.textContent = 'æ¸¸æˆè¿›è¡Œä¸­...';
                
                grabBtn.disabled = false;
                grabBtn.innerHTML = 'æŠ¢çº¢åŒ…';
                grabBtn.style.background = 'linear-gradient(135deg, #f39c12, #e74c3c, #c0392b)';
                startBtn.disabled = true;
                
                // å¼€å§‹å€’è®¡æ—¶
                timer = setInterval(() => {
                    timeLeft--;
                    timeLeftSpan.textContent = timeLeft;
                    
                    // æœ€å5ç§’å˜çº¢è‰²é—ªçƒ
                    if (timeLeft <= 5) {
                        timeLeftSpan.parentElement.style.color = '#ff0000';
                        timeLeftSpan.parentElement.style.textShadow = '0 0 10px rgba(255,0,0,0.8)';
                        timeLeftSpan.parentElement.style.animation = 'pulseRed 0.5s infinite';
                        
                        // å®šä¹‰è„‰å†²çº¢åŠ¨ç”»
                        const style = document.createElement('style');
                        style.id = 'pulseRedStyle';
                        style.innerHTML = `
                            @keyframes pulseRed {
                                0% { transform: scale(1); }
                                50% { transform: scale(1.05); }
                                100% { transform: scale(1); }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                    
                    if (timeLeft <= 0) {
                        endGame();
                    }
                }, 1000);
            }
            
            // ç»“æŸæ¸¸æˆ
            function endGame() {
                gameActive = false;
                clearInterval(timer);
                
                grabBtn.disabled = true;
                grabBtn.innerHTML = 'â° æ—¶é—´åˆ°! â°';
                grabBtn.style.background = 'linear-gradient(135deg, #bdc3c7, #7f8c8d)';
                startBtn.disabled = false;
                gameStatus.textContent = 'æ¸¸æˆç»“æŸ';
                
                // è®¡ç®—æœ€ç»ˆé‡‘é¢
                const finalAmount = calculateAmountWithProbability(clickCount);
                
                // æ˜¾ç¤ºç»“æœ
                resultAmount.textContent = `ï¿¥${finalAmount}`;
                
                // æ ¹æ®é‡‘é¢æ˜¾ç¤ºä¸åŒæ¶ˆæ¯
                if (parseFloat(finalAmount) < 100) {
                    resultMessage.textContent = 'å“å‘€ï¼Œæ²¡äº‹æ²¡äº‹ï¼Œå†æ¥å†å‰ï¼';
                    resultMessage.className = 'result-message-low';
                } else {
                    resultMessage.textContent = 'çœŸæ˜¯æ‰‹æ°”ä¸é”™å‘¢ï¼';
                    resultMessage.className = 'result-message';
                }
                
                resultClicks.textContent = `ç‚¹å‡»æ¬¡æ•°: ${clickCount}æ¬¡`;
                
                // åˆ›å»ºåº†ç¥æ•ˆæœ
                createConfetti();
                
                // æ˜¾ç¤ºé®ç½©å’Œç»“æœå¼¹çª—
                setTimeout(() => {
                    overlay.style.display = 'flex';
                }, 500);
            }
            
            // æŠ¢çº¢åŒ…æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            grabBtn.addEventListener('click', () => {
                if (!gameActive) return;
                
                clickCount++;
                
                // æ·»åŠ ç‚¹å‡»åŠ¨ç”»æ•ˆæœ
                grabBtn.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    grabBtn.style.transform = 'scale(1)';
                }, 100);
            });
            
            // çº¢åŒ…ç‚¹å‡»äº‹ä»¶ï¼ˆé¢å¤–çš„ç‚¹å‡»æ–¹å¼ï¼‰
            redPacket.addEventListener('click', () => {
                if (!gameActive) return;
                
                clickCount++;
                
                // æ·»åŠ ç‚¹å‡»åŠ¨ç”»æ•ˆæœ
                redPacket.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    redPacket.style.transform = 'scale(1)';
                }, 100);
            });
            
            // å†æŠ¢ä¸€æ¬¡æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            retryBtn.addEventListener('click', () => {
                overlay.style.display = 'none';
                // é‡ç½®æ¸¸æˆçŠ¶æ€
                clickCount = 0;
                timeLeft = 15;
                gameActive = false;
                clearInterval(timer);
                
                // æ›´æ–°UI
                timeLeftSpan.textContent = timeLeft;
                timeLeftSpan.parentElement.style.color = '#fff';
                timeLeftSpan.parentElement.style.textShadow = '2px 2px 4px rgba(0,0,0,0.5), 0 0 10px rgba(255,215,0,0.5)';
                timeLeftSpan.parentElement.style.animation = 'pulse 1s infinite';
                
                grabBtn.disabled = true;
                grabBtn.innerHTML = 'æŠ¢çº¢åŒ…';
                grabBtn.style.background = 'linear-gradient(135deg, #f39c12, #e74c3c, #c0392b)';
                startBtn.disabled = false;
                gameStatus.textContent = 'ç‚¹å‡»å¼€å§‹æ¸¸æˆ';
            });
            
            // å¼€å§‹æ¸¸æˆæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            startBtn.addEventListener('click', startGame);
            
            // åˆå§‹åŒ–æ¸¸æˆ
            timeLeftSpan.textContent = timeLeft;
            grabBtn.disabled = true;
            grabBtn.innerHTML = 'æŠ¢çº¢åŒ…';
            grabBtn.style.background = 'linear-gradient(135deg, #f39c12, #e74c3c, #c0392b)';
        });
        
        // æ·»åŠ éŸ³ä¹åˆ‡æ¢åŠŸèƒ½
        let audio = null;
        function toggleMusic() {
            // æ·»åŠ éŸ³ä¹åˆ‡æ¢åŠŸèƒ½
            // å¦‚æœéŸ³é¢‘å¯¹è±¡ä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒ
            if (!audio) {
                audio = new Audio('é“¶æœˆçš„æ¸¸æˆå’–å….mp3');
                audio.loop = true; // è®¾ç½®éŸ³ä¹å¾ªç¯æ’­æ”¾
            }
            
            const musicIcon = document.getElementById('musicIcon');
            if (musicIcon.classList.contains('fa-music')) {
                musicIcon.classList.remove('fa-music');
                musicIcon.classList.add('fa-pause');
                // æ’­æ”¾éŸ³ä¹
                audio.play().catch(error => {
                    console.log('æ’­æ”¾éŸ³ä¹æ—¶å‡ºé”™:', error);
                });
            } else {
                musicIcon.classList.remove('fa-pause');
                musicIcon.classList.add('fa-music');
                // æš‚åœéŸ³ä¹
                audio.pause();
            }
        }

        // æ·»åŠ å¤œé—´æ¨¡å¼åˆ‡æ¢åŠŸèƒ½
        document.getElementById('theme-toggle').addEventListener('click', function() {
            const body = document.body;
            const dayBg = document.getElementById('day-bg');
            const nightBg = document.getElementById('night-bg');
            const sun = document.getElementById('sun');
            const moon = document.getElementById('moon');
            const toggleIcon = document.getElementById('toggle-icon');
            
            // åˆ‡æ¢æš—è‰²æ¨¡å¼ç±»
            body.classList.toggle('dark-mode');
            
            // åˆ‡æ¢èƒŒæ™¯å’Œå›¾æ ‡
            if (body.classList.contains('dark-mode')) {
                dayBg.style.opacity = '0';
                nightBg.style.opacity = '1';
                sun.style.opacity = '0';
                moon.style.opacity = '1';
                toggleIcon.style.transform = 'translateX(78px)'; // å¢åŠ ç§»åŠ¨è·ç¦»åˆ°30pxï¼Œç¡®ä¿æœˆäº®å®Œå…¨ç§»åŠ¨åˆ°æœ€å³è¾¹
            } else {
                dayBg.style.opacity = '1';
                nightBg.style.opacity = '0';
                sun.style.opacity = '1';
                moon.style.opacity = '0';
                toggleIcon.style.transform = 'translateX(0)';
            }
        });
    </script>
</body>
</html>
